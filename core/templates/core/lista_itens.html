{% extends "core/base.html" %}
{% load static %}

{% block title %}Itens Disponíveis{% endblock %}

{% block content %}
<h1 class="page-title">Itens Disponíveis</h1>
<div class="page-title-underline"></div>

<div class="item-grid">
    {% for item in itens %}
        <div class="item-card">

            <!-- IMAGEM DO ITEM (só mostra se tiver) -->
            <div class="item-icon">
                {% if item.imagem %}
                    <img src="{{ item.imagem.url }}" 
                         alt="{{ item.nome }}"
                         style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;">
                {% endif %}
            </div>

            <div class="item-nome">
                {{ item.nome }}
            </div>

            <div class="item-info">
                Total: {{ item.total_exemplares }}<br>
                Disponíveis: {{ item.disponiveis }}<br>
                Reservados: {{ item.reservados }}<br>
                Em manutenção: {{ item.em_manutencao }}
            </div>

            {% if item.disponiveis > 0 %}
                <a href="{% url 'core:reservar_item' item.id %}">
                    <button class="btn btn-primary">Reserve</button>
                </a>
            {% else %}
                <button class="btn btn-primary" disabled>Sem disponibilidade</button>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}





